<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>OpenMAXBellagio: omxsymbianoutputstreamtest.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenMAXBellagio
   &#160;<span id="projectnumber">0.9.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('omxsymbianoutputstreamtest_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">omxsymbianoutputstreamtest.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;sys/mman.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="_o_m_x___core_8h_source.html">OMX_Core.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="_o_m_x___component_8h_source.html">OMX_Component.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="_o_m_x___types_8h_source.html">OMX_Types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="_o_m_x___audio_8h_source.html">OMX_Audio.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="omxsymbianoutputstreamtest_8h_source.html">omxsymbianoutputstreamtest.h</a>&quot;</code><br/>
<code>#include &quot;tsemaphore.h&quot;</code><br/>
</div>
<p><a href="omxsymbianoutputstreamtest_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="omxsymbianoutputstreamtest_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac049e2ed901f1cb786fc04d3bc97956a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_o_m_x___core_8h.html#a4e2923ea92fd56f5bd9783a6dac7629a">OMX_ERRORTYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="omxsymbianoutputstreamtest_8c.html#ac049e2ed901f1cb786fc04d3bc97956a">symbianoutputstreamEventHandler</a> (<a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a7b426d7bc825bf8a56ee39dc3c217af7">OMX_HANDLETYPE</a> hComponent, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a> pAppData, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="group__comp.html#gaf9babc952e96b0b7e47efa208ef3fb83">OMX_EVENTTYPE</a> eEvent, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a04983f4ca9c7876035dffc578597eae3">OMX_U32</a> nData1, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a04983f4ca9c7876035dffc578597eae3">OMX_U32</a> nData2, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a> pEventData)</td></tr>
<tr class="separator:ac049e2ed901f1cb786fc04d3bc97956a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa69b977026233d9cc69a717f1078a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_o_m_x___core_8h.html#a4e2923ea92fd56f5bd9783a6dac7629a">OMX_ERRORTYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="omxsymbianoutputstreamtest_8c.html#a6aa69b977026233d9cc69a717f1078a7">symbianoutputstreamEmptyBufferDone</a> (<a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a7b426d7bc825bf8a56ee39dc3c217af7">OMX_HANDLETYPE</a> hComponent, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a> pAppData, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="struct_o_m_x___b_u_f_f_e_r_h_e_a_d_e_r_t_y_p_e.html">OMX_BUFFERHEADERTYPE</a> *pBuffer)</td></tr>
<tr class="separator:a6aa69b977026233d9cc69a717f1078a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f545a078a02da9daa99a41ef05e82e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_o_m_x___core_8h.html#a4e2923ea92fd56f5bd9783a6dac7629a">OMX_ERRORTYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="omxsymbianoutputstreamtest_8c.html#a60f545a078a02da9daa99a41ef05e82e">symbianoutputstreamFillBufferDone</a> (<a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a7b426d7bc825bf8a56ee39dc3c217af7">OMX_HANDLETYPE</a> hComponent, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a> pAppData, <a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="struct_o_m_x___b_u_f_f_e_r_h_e_a_d_e_r_t_y_p_e.html">OMX_BUFFERHEADERTYPE</a> *pBuffer)</td></tr>
<tr class="separator:a60f545a078a02da9daa99a41ef05e82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aef8e73812694e872b898c24afac4b2c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structapp_private_type.html">appPrivateType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="omxsymbianoutputstreamtest_8c.html#aef8e73812694e872b898c24afac4b2c2">appPriv</a></td></tr>
<tr class="separator:aef8e73812694e872b898c24afac4b2c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple application that uses an OpenMAX Symbian output stream sink component. The application receives a pcm stream from a file or, if not specified, from standard input. The audio stream is inteded as stereo, at 44100 Hz.</p>
<p>Copyright (C) 2006-2008 Nokia Corporation and/or its subsidiary(-ies).</p>
<dl class="section author"><dt>Author</dt><dd>Jaska Uimonen, Diego MELPIGNANO, Pankaj SEN, David SIORPAES, Giulio URLINI</dd></dl>
<p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.</p>
<p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA</p>
<p>2006/06/28: Symbian Output Stream Sink Test version 0.1 </p>

<p>Definition in file <a class="el" href="omxsymbianoutputstreamtest_8c_source.html">omxsymbianoutputstreamtest.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ask the core for a handle to the output stream component</p>
<p>Set the number of ports for the sink component</p>
<p>Set the port definition type</p>
<p>Set up the PCM parameters</p>

<p>Definition at line <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00052">52</a> of file <a class="el" href="omxsymbianoutputstreamtest_8c_source.html">omxsymbianoutputstreamtest.c</a>.</p>

<p>References <a class="el" href="omxsymbianoutputstreamtest_8h_source.html#l00046">BUFFER_SIZE</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8c_source.html#l00038">callbacks</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8h_source.html#l00058">appPrivateType::condition</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00043">DEB_LEV_ERR</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00058">DEB_LEV_FULL_SEQ</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00047">DEB_LEV_PARAMS</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00072">DEBUG</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00521">OMX_CALLBACKTYPE::EmptyBufferDone</a>, <a class="el" href="omxvolcontroltest_8c_source.html#l00036">err</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00491">OMX_CALLBACKTYPE::EventHandler</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8h_source.html#l00062">appPrivateType::eventSem</a>, <a class="el" href="audio__use__case_8c_source.html#l00102">fd</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8c_source.html#l00077">filesize</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00550">OMX_CALLBACKTYPE::FillBufferDone</a>, <a class="el" href="ansi2knr_8c.html#af0a0a130dc4855f51b83222514c02bb6">free()</a>, <a class="el" href="omxvolcontroltest_8c_source.html#l00037">handle</a>, <a class="el" href="ansi2knr_8c.html#ab7e36af3707843f77cc5b4e831c2fa6d">malloc()</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8h_source.html#l00059">appPrivateType::mutex</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00379">OMX_BUFFERHEADERTYPE::nFilledLen</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00415">OMX_BUFFERHEADERTYPE::nInputPortIndex</a>, <a class="el" href="_o_m_x___audio_8h_source.html#l00156">OMX_AUDIO_PARAM_PCMMODETYPE::nPortIndex</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00437">OMX_PORT_PARAM_TYPE::nPorts</a>, <a class="el" href="_o_m_x___audio_8h_source.html#l00163">OMX_AUDIO_PARAM_PCMMODETYPE::nSamplingRate</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00987">OMX_AllocateBuffer</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00051">OMX_CommandStateSet</a>, <a class="el" href="_o_m_x___core_8h_source.html#l01055">OMX_EmptyThisBuffer</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00124">OMX_ErrorNone</a>, <a class="el" href="_o_m_x___core_8h_source.html#l01023">OMX_FreeBuffer</a>, <a class="el" href="omxcore_8c_source.html#l00191">OMX_FreeHandle()</a>, <a class="el" href="omxcore_8c_source.html#l00154">OMX_GetHandle()</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00745">OMX_GetParameter</a>, <a class="el" href="_o_m_x___index_8h_source.html#l00064">OMX_IndexParamAudioInit</a>, <a class="el" href="_o_m_x___index_8h_source.html#l00095">OMX_IndexParamAudioPcm</a>, <a class="el" href="omxcore_8c_source.html#l00095">OMX_Init()</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00704">OMX_SendCommand</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00784">OMX_SetParameter</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00103">OMX_StateExecuting</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00100">OMX_StateIdle</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00095">OMX_StateLoaded</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00376">OMX_BUFFERHEADERTYPE::pBuffer</a>, <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00237">symbianoutputstreamEmptyBufferDone()</a>, <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00222">symbianoutputstreamEventHandler()</a>, <a class="el" href="src_2tsemaphore_8c_source.html#l00062">tsem_down()</a>, and <a class="el" href="src_2tsemaphore_8c_source.html#l00042">tsem_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a6aa69b977026233d9cc69a717f1078a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_o_m_x___core_8h.html#a4e2923ea92fd56f5bd9783a6dac7629a">OMX_ERRORTYPE</a> symbianoutputstreamEmptyBufferDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a7b426d7bc825bf8a56ee39dc3c217af7">OMX_HANDLETYPE</a>&#160;</td>
          <td class="paramname"><em>hComponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a>&#160;</td>
          <td class="paramname"><em>pAppData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="struct_o_m_x___b_u_f_f_e_r_h_e_a_d_e_r_t_y_p_e.html">OMX_BUFFERHEADERTYPE</a> *&#160;</td>
          <td class="paramname"><em>pBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The EmptyBufferDone method is used to return emptied buffers from an input port back to the application for reuse. This is a blocking call so the application should not attempt to refill the buffers during this call, but should queue them and refill them in another thread. There is no error return, so the application shall handle any errors generated internally.</p>
<p>The application should return from this call within 5 msec.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hComponent</td><td>handle of the component to access. This is the component handle returned by the call to the GetHandle function. </td></tr>
    <tr><td class="paramname">pAppData</td><td>pointer to an application defined value that was provided in the pAppData parameter to the OMX_GetHandle method for the component. This application defined value is provided so that the application can have a component specific context when receiving the callback. </td></tr>
    <tr><td class="paramname">pBuffer</td><td>pointer to an <a class="el" href="struct_o_m_x___b_u_f_f_e_r_h_e_a_d_e_r_t_y_p_e.html">OMX_BUFFERHEADERTYPE</a> structure allocated with UseBuffer or AllocateBuffer indicating the buffer that was emptied. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00237">237</a> of file <a class="el" href="omxsymbianoutputstreamtest_8c_source.html">omxsymbianoutputstreamtest.c</a>.</p>

<p>References <a class="el" href="audio__effects_2omxaudiomixertest_8h_source.html#l00058">appPrivateType::condition</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00058">DEB_LEV_FULL_SEQ</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00072">DEBUG</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8h_source.html#l00059">appPrivateType::mutex</a>, and <a class="el" href="_o_m_x___core_8h_source.html#l00124">OMX_ErrorNone</a>.</p>

<p>Referenced by <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00052">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ac049e2ed901f1cb786fc04d3bc97956a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_o_m_x___core_8h.html#a4e2923ea92fd56f5bd9783a6dac7629a">OMX_ERRORTYPE</a> symbianoutputstreamEventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a7b426d7bc825bf8a56ee39dc3c217af7">OMX_HANDLETYPE</a>&#160;</td>
          <td class="paramname"><em>hComponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a>&#160;</td>
          <td class="paramname"><em>pAppData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="group__comp.html#gaf9babc952e96b0b7e47efa208ef3fb83">OMX_EVENTTYPE</a>&#160;</td>
          <td class="paramname"><em>eEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a04983f4ca9c7876035dffc578597eae3">OMX_U32</a>&#160;</td>
          <td class="paramname"><em>nData1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a04983f4ca9c7876035dffc578597eae3">OMX_U32</a>&#160;</td>
          <td class="paramname"><em>nData2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a>&#160;</td>
          <td class="paramname"><em>pEventData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The EventHandler method is used to notify the application when an event of interest occurs. Events are defined in the OMX_EVENTTYPE enumeration. Please see that enumeration for details of what will be returned for each type of event. Callbacks should not return an error to the component, so if an error occurs, the application shall handle it internally. This is a blocking call.</p>
<p>The application should return from this call within 5 msec to avoid blocking the component for an excessively long period of time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hComponent</td><td>handle of the component to access. This is the component handle returned by the call to the GetHandle function. </td></tr>
    <tr><td class="paramname">pAppData</td><td>pointer to an application defined value that was provided in the pAppData parameter to the OMX_GetHandle method for the component. This application defined value is provided so that the application can have a component specific context when receiving the callback. </td></tr>
    <tr><td class="paramname">eEvent</td><td>Event that the component wants to notify the application about. </td></tr>
    <tr><td class="paramname">nData1</td><td>nData will be the OMX_ERRORTYPE for an error event and will be an OMX_COMMANDTYPE for a command complete event and OMX_INDEXTYPE for a OMX_PortSettingsChanged event. </td></tr>
    <tr><td class="paramname">nData2</td><td>nData2 will hold further information related to the event. Can be OMX_STATETYPE for a OMX_StateChange command or port index for a OMX_PortSettingsCHanged event. Default value is 0 if not used. ) </td></tr>
    <tr><td class="paramname">pEventData</td><td>Pointer to additional event-specific data (see spec for meaning). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00222">222</a> of file <a class="el" href="omxsymbianoutputstreamtest_8c_source.html">omxsymbianoutputstreamtest.c</a>.</p>

<p>References <a class="el" href="omx__comp__debug__levels_8h_source.html#l00052">DEB_LEV_SIMPLE_SEQ</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00072">DEBUG</a>, <a class="el" href="audio__effects_2omxaudiomixertest_8h_source.html#l00062">appPrivateType::eventSem</a>, <a class="el" href="_o_m_x___core_8h_source.html#l00124">OMX_ErrorNone</a>, and <a class="el" href="src_2tsemaphore_8c_source.html#l00075">tsem_up()</a>.</p>

<p>Referenced by <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00052">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a60f545a078a02da9daa99a41ef05e82e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_o_m_x___core_8h.html#a4e2923ea92fd56f5bd9783a6dac7629a">OMX_ERRORTYPE</a> symbianoutputstreamFillBufferDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a7b426d7bc825bf8a56ee39dc3c217af7">OMX_HANDLETYPE</a>&#160;</td>
          <td class="paramname"><em>hComponent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="_o_m_x___types_8h.html#a52f5626b11279ed9a6ce8731abc365be">OMX_PTR</a>&#160;</td>
          <td class="paramname"><em>pAppData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_o_m_x___types_8h.html#ad6f8c05c2b49042f9051e1f3fce7b28c">OMX_OUT</a> <a class="el" href="struct_o_m_x___b_u_f_f_e_r_h_e_a_d_e_r_t_y_p_e.html">OMX_BUFFERHEADERTYPE</a> *&#160;</td>
          <td class="paramname"><em>pBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The FillBufferDone method is used to return filled buffers from an output port back to the application for emptying and then reuse. This is a blocking call so the application should not attempt to empty the buffers during this call, but should queue the buffers and empty them in another thread. There is no error return, so the application shall handle any errors generated internally. The application shall also update the buffer header to indicate the number of bytes placed into the buffer.</p>
<p>The application should return from this call within 5 msec.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hComponent</td><td>handle of the component to access. This is the component handle returned by the call to the GetHandle function. </td></tr>
    <tr><td class="paramname">pAppData</td><td>pointer to an application defined value that was provided in the pAppData parameter to the OMX_GetHandle method for the component. This application defined value is provided so that the application can have a component specific context when receiving the callback. </td></tr>
    <tr><td class="paramname">pBuffer</td><td>pointer to an <a class="el" href="struct_o_m_x___b_u_f_f_e_r_h_e_a_d_e_r_t_y_p_e.html">OMX_BUFFERHEADERTYPE</a> structure allocated with UseBuffer or AllocateBuffer indicating the buffer that was filled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00250">250</a> of file <a class="el" href="omxsymbianoutputstreamtest_8c_source.html">omxsymbianoutputstreamtest.c</a>.</p>

<p>References <a class="el" href="omx__comp__debug__levels_8h_source.html#l00058">DEB_LEV_FULL_SEQ</a>, <a class="el" href="omx__comp__debug__levels_8h_source.html#l00072">DEBUG</a>, and <a class="el" href="_o_m_x___core_8h_source.html#l00146">OMX_ErrorNotImplemented</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aef8e73812694e872b898c24afac4b2c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structapp_private_type.html">appPrivateType</a>* appPriv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="omxsymbianoutputstreamtest_8c_source.html#l00050">50</a> of file <a class="el" href="omxsymbianoutputstreamtest_8c_source.html">omxsymbianoutputstreamtest.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<html>
<body>
<hr size="1"><small>Generated for OpenMAX Bellagio rel. 0.9.1 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small>
<br>
<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=160680&amp;type=4" width="125" height="37" border="0" alt="SourceForge.net Logo" /></a>
</body>
</html>
